<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Galactic Atlas</title>
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
		<link rel="stylesheet" href="styles/output_login.css">
	</head>
<body>
	<div id="background-static">
		<h2 class="text-center mt-3" id="glow" title="Hover over me!">Galactic Atlas</h2>
		<div class="login-page">
			<div class="form">
			<form class="register-form">
				<input type="text" placeholder="name"/>
				<input type="password" placeholder="password"/>
				<input type="text" placeholder="email address"/>
				<button id="register-submit">create</button>
				<p class="message">Already registered? <a href="#">Sign In</a></p>
			</form>
			<form class="login-form">
				<input type="text" placeholder="username"/>
				<input type="password" placeholder="password"/>
				<button id="login-submit">login</button>
				<p class="message">Not registered? <a href="#">Create an account</a></p>
			</form>
			</div>
		</div>
	</div>
	<script>
		$(document).ready(function() {
			$('.message a').click(function(e) {
				e.stopImmediatePropagation();
				e.preventDefault();
				$('form').animate({ height: "toggle", opacity: "toggle" }, "slow");
			});

			// Handle register
			$('button#register-submit')

			// Handle login
			$('button#login-submit').on('click', (e) => {
				e.stopImmediatePropagation();
				e.preventDefault();
				const username = $('form.login-form [placeholder="username"]').val();
				const password = $('form.login-form [placeholder="password"]').val();
				console.log(username, password);
				fetch(
					'http://localhost:3000/login',
					{
						method: 'POST',
						headers: {
							Authorization: `Basic ${btoa(`${username}:${password}`)}`
						}
					}
				).then((res) => {
					console.log(loginRes);
				});
				return false;
			});
		});
	</script>
</body>
</html>
